<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JTG8T343JZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JTG8T343JZ');
</script>
    <meta charset="UTF-8">
    <meta name="description" content="Plan your Delhi Metro trip with accurate platform details, and line details.">
    <meta name="keywords" content="delhi metro routes, Delhi metro platform details, metro travel time">
    <title>Delhi Metro Route Finder - Select Boarding and Destination,Platform &  Time taken details</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f4f8ff 0%, #eaf1ff 100%);
            min-height: 100vh;
            color: #2c3e50;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            background: white;
            color: #2c3e50;
            padding: 40px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn:nth-child(1) { background: #2ecc71; }
        .nav-btn:nth-child(2) { background: #9b59b6; }
        .nav-btn:nth-child(3) { background: #3498db; }
        .nav-btn:nth-child(4) { background: #e67e22; }
        .nav-btn:nth-child(5) { background: #e74c3c; }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-family: 'Inter', sans-serif;
            font-size: 3rem;
            font-weight: 700;
            color: #1e73ff;
            margin-bottom: 8px;
            letter-spacing: -1px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .metro-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ffffff 0%, #e2e8f0 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .metro-logo::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #1e40af, #3b82f6, #60a5fa);
            border-radius: 50%;
            opacity: 0.1;
        }

        .metro-icon {
            font-size: 28px;
            color: #1e40af;
            z-index: 1;
        }

        .header p {
            font-size: 1.1rem;
            color: #7f8c8d;
            font-weight: 500;
        }

        .main-card {
            background: white;
            border: none;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            margin-bottom: 24px;
        }

        .card-header {
            background: #f8fafc;
            color: #2c3e50;
            padding: 24px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
        }

        .card-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .card-header p {
            color: #7f8c8d;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .search-form {
            padding: 32px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            align-items: end;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
            font-size: 0.9rem;
            text-transform: none;
            letter-spacing: normal;
        }

        .form-group select {
            padding: 14px 16px;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            font-size: 1rem;
            background: white;
            transition: all 0.2s ease;
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 12px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 40px;
            font-weight: 500;
        }

        .form-group select:hover {
            border-color: #1e73ff;
            box-shadow: 0 2px 8px rgba(30, 115, 255, 0.1);
        }

        .form-group select:focus {
            outline: none;
            border-color: #1e73ff;
            box-shadow: 0 0 0 3px rgba(30, 115, 255, 0.1);
        }

        .search-actions {
            grid-column: 1 / -1;
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 16px;
        }

        .btn {
            padding: 14px 32px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #1e73ff;
            color: white;
        }

        .btn-primary:hover {
            background: #1557cc;
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(30, 115, 255, 0.3);
        }

        .btn-secondary {
            background: #f8fafc;
            color: #64748b;
            border: 1px solid #e9ecef;
        }

        .btn-secondary:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
            transform: translateY(-1px);
        }

        .results-section {
            display: none;
        }

        .route-summary {
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 24px;
            margin-bottom: 24px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .summary-item {
            text-align: center;
            padding: 20px;
            background: #f8fafc;
            border-radius: 16px;
            border: none;
        }

        .summary-item .value {
            font-size: 2rem;
            font-weight: 700;
            color: #1e73ff;
            margin-bottom: 4px;
        }

        .summary-item .label {
            font-size: 0.875rem;
            color: #7f8c8d;
            text-transform: none;
            letter-spacing: normal;
            font-weight: 500;
        }

        .route-details {
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .route-header {
            background: #f8fafc;
            padding: 20px 24px;
            border-bottom: 1px solid #e2e8f0;
        }

        .route-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1a202c;
        }

        .route-path {
            padding: 24px;
        }

        .station-list {
            position: relative;
            padding-left: 32px;
        }

        .station-list::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e2e8f0;
        }

        .station-item {
            position: relative;
            padding: 16px 20px;
            margin-bottom: 8px;
            background: #fafbfc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            transition: all 0.2s ease;
        }

        .station-item:hover {
            background: #f1f5f9;
            border-color: #cbd5e1;
        }

        .station-item::before {
            content: '';
            position: absolute;
            left: -39px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: #e2e8f0;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 0 2px #e2e8f0;
        }

        .station-item.boarding {
            background: #f0fdf4;
            border-color: #bbf7d0;
        }

        .station-item.boarding::before {
            background: #22c55e;
            box-shadow: 0 0 0 2px #22c55e;
        }

        .station-item.destination {
            background: #fef3c7;
            border-color: #fde68a;
        }

        .station-item.destination::before {
            background: #f59e0b;
            box-shadow: 0 0 0 2px #f59e0b;
        }

        .station-item.interchange {
            background: #eff6ff;
            border-color: #bfdbfe;
        }

        .station-item.interchange::before {
            background: #3b82f6;
            box-shadow: 0 0 0 2px #3b82f6;
        }

        .station-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .station-info h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 4px;
        }

        .line-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            color: #64748b;
        }

        .line-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .platform-badge {
            background: #1e293b;
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .error-message {
            background: #fef2f2;
            color: #dc2626;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin: 20px 0;
            border: 1px solid #fecaca;
        }

        @media (max-width: 768px) {
            .search-form {
                grid-template-columns: 1fr;
                padding: 24px;
            }
            
            .container {
                padding: 16px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .summary-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .summary-grid {
                grid-template-columns: 1fr;
            }
            
            .search-actions {
                flex-direction: column;
            }
        }

        .footer {
            margin-top: 60px;
            padding: 30px 20px;
            background: white;
            color: #7f8c8d;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .footer-info {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .footer-links {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .footer-links a {
            color: #7f8c8d;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .footer-links a:hover {
            color: #1e73ff;
            text-decoration: underline;
        }

        .helpline-info {
            font-size: 0.85rem;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .footer-links {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, #1e73ff 0%, #1557cc 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .close {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #f1f5f9;
        }

        .modal-body {
            padding: 30px;
        }

        /* Line Tabs Styles */
        .line-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .line-tab {
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0.7;
        }

        .line-tab.active {
            opacity: 1;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .line-tab:hover {
            opacity: 1;
            transform: translateY(-2px);
        }

        .stations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
            background: #f8fafc;
            border-radius: 12px;
        }

        .station-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .station-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .station-card h4 {
            margin: 0 0 5px 0;
            font-size: 0.95rem;
            font-weight: 600;
            color: #1a202c;
        }

        .station-card .station-number {
            font-size: 0.8rem;
            color: #64748b;
            font-weight: 500;
        }

        /* Tutorial Styles */
        .tutorial-section, .guidelines-section {
            margin-bottom: 30px;
        }

        .tutorial-section h3, .guidelines-section h3 {
            color: #1e73ff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }

        .tutorial-steps {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .step {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .step-number {
            background: #1e73ff;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .step-content h4 {
            margin: 0 0 8px 0;
            color: #1a202c;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .step-content p {
            margin: 0;
            color: #64748b;
            line-height: 1.5;
        }

        .guidelines-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .guideline-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
        }

        .guideline-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .guideline-item p {
            margin: 0;
            color: #1a202c;
            line-height: 1.5;
            font-weight: 500;
        }

        /* FAQ Styles */
        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .faq-item {
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .faq-item h4 {
            margin: 0 0 10px 0;
            color: #1e73ff;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .faq-item p {
            margin: 0;
            color: #1a202c;
            line-height: 1.6;
        }

        /* Tips Styles */
        .tips-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .tip-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .tip-content h4 {
            margin: 0 0 8px 0;
            color: #1e73ff;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .tip-content p {
            margin: 0;
            color: #1a202c;
            line-height: 1.5;
        }

        /* About and Privacy Styles */
        .about-content, .privacy-content {
            line-height: 1.6;
        }

        .about-content p, .privacy-content p {
            margin-bottom: 15px;
            color: #1a202c;
        }

        .contact-info {
            margin-top: 25px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .contact-info h4 {
            margin: 0 0 15px 0;
            color: #1e73ff;
        }

        .contact-info p {
            margin: 5px 0;
            color: #1a202c;
        }

        .privacy-section {
            margin-bottom: 20px;
        }

        .privacy-section h4 {
            margin: 0 0 10px 0;
            color: #1e73ff;
            font-size: 1.1rem;
        }

        .privacy-section p {
            margin: 0 0 15px 0;
            color: #1a202c;
        }

        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                margin: 10% auto;
                max-height: 85vh;
            }
            
            .modal-body {
                padding: 20px;
            }
            
            .stations-grid {
                grid-template-columns: 1fr;
            }
            
            .step {
                flex-direction: column;
                text-align: center;
            }
            
            .tip-item, .guideline-item {
                flex-direction: column;
                text-align: center;
            }
            
            .line-tabs {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <div class="logo-container">
                    <div class="metro-logo">
                        <svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                            <!-- Outer blue circle -->
                            <circle cx="25" cy="25" r="24" fill="#1e73ff" stroke="#ffffff" stroke-width="2"/>
                            <!-- Inner white circle -->
                            <circle cx="25" cy="25" r="18" fill="#ffffff"/>
                            <!-- Metro 'M' symbol in blue -->
                            <path d="M15 35 L15 15 L20 15 L25 25 L30 15 L35 15 L35 35 L31 35 L31 22 L27 30 L23 30 L19 22 L19 35 Z" fill="#1e73ff"/>
                            <!-- Small metro train icon at bottom -->
                            <rect x="20" y="37" width="10" height="4" rx="2" fill="#1e73ff"/>
                            <circle cx="22" cy="41.5" r="1" fill="#1e73ff"/>
                            <circle cx="28" cy="41.5" r="1" fill="#1e73ff"/>
                        </svg>
                    </div>
                    <span><strong>DELHI</strong> METRO</span>
                </div>
            </h1>
            <p>Find the <strong>FASTEST ROUTE</strong> between stations</p>
            <div class="nav-buttons">
                <a href="#" class="nav-btn">🏠 <strong>HOME</strong></a>
                <a href="#" class="nav-btn" onclick="openModal('allStationsModal')">🚉 <strong>ALL STATIONS</strong></a>
                <a href="#" class="nav-btn" onclick="openModal('tutorialModal')">📚 <strong>TUTORIAL</strong></a>
                <a href="#" class="nav-btn" onclick="openModal('faqModal')">❓ <strong>FAQ GUIDE</strong></a>
                <a href="#" class="nav-btn" onclick="openModal('crowdTipsModal')">👥 <strong>CROWD TIPS</strong></a>
            </div>
        </div>

        <div class="main-card">
            <div class="card-header">
                <h2><strong>ROUTE PLANNER</strong></h2>
                <p>Select your <strong>JOURNEY STATIONS</strong> to find the <strong>BEST ROUTE</strong></p>
            </div>
            
            <form class="search-form" id="routeForm">
                <div class="form-group">
                    <label for="fromStation"><strong>FROM STATION</strong></label>
                    <select id="fromStation" required>
                        <option value="">Select <strong>DEPARTURE</strong> station</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="toStation"><strong>TO STATION</strong></label>
                    <select id="toStation" required>
                        <option value="">Select <strong>DESTINATION</strong> station</option>
                    </select>
                </div>
                
                <div class="search-actions">
                    <button type="submit" class="btn btn-primary">
                        <span>🔍</span>
                        FIND ROUTE
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="swapStations()">
                        <span>🔄</span>
                        SWAP
                    </button>
                </div>
            </form>
        </div>

        <div class="results-section" id="resultsSection">
            <div class="route-summary">
                <div class="summary-grid" id="routeSummary">
                    <!-- Summary items will be populated here -->
                </div>
            </div>
            
            <div class="route-details">
                <div class="route-header">
                    <h3><strong>JOURNEY DETAILS</strong></h3>
                </div>
                <div class="route-path">
                    <div class="station-list" id="stationList">
                        <!-- Route stations will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- All Stations Modal -->
        <div id="allStationsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><strong>ALL STATIONS BY LINE</strong></h2>
                    <span class="close" onclick="closeModal('allStationsModal')">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="line-tabs">
                        <button class="line-tab active" onclick="showLineStations('Red')" style="background: #ef4444;">Red Line</button>
                        <button class="line-tab" onclick="showLineStations('Blue')" style="background: #3b82f6;">Blue Line</button>
                        <button class="line-tab" onclick="showLineStations('Yellow')" style="background: #eab308;">Yellow Line</button>
                        <button class="line-tab" onclick="showLineStations('Green')" style="background: #22c55e;">Green Line</button>
                        <button class="line-tab" onclick="showLineStations('Violet')" style="background: #8b5cf6;">Violet Line</button>
                        <button class="line-tab" onclick="showLineStations('Pink')" style="background: #ec4899;">Pink Line</button>
                        <button class="line-tab" onclick="showLineStations('Magenta')" style="background: #d946ef;">Magenta Line</button>
                        <button class="line-tab" onclick="showLineStations('Orange')" style="background: #f97316;">Orange Line</button>
                    </div>
                    <div id="stationsContent" class="stations-grid">
                        <!-- Stations will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Tutorial Modal -->
        <div id="tutorialModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><strong>TUTORIAL & GUIDELINES</strong></h2>
                    <span class="close" onclick="closeModal('tutorialModal')">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="tutorial-section">
                        <h3><strong>TUTORIAL</strong></h3>
                        <div class="tutorial-steps">
                            <div class="step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>Select Boarding/Departure station and Destination station</h4>
                                    <p>Choose your starting point and where you want to go from the dropdown menus.</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>Click Find route button</h4>
                                    <p>Press the blue "FIND ROUTE" button to get your journey details.</p>
                                </div>
                            </div>
                            <div class="step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>Follow the route instructions and change your train on the Line Junction points</h4>
                                    <p>Look for highlighted stations where you need to change trains (interchange points).</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="guidelines-section">
                        <h3><strong>GUIDELINES</strong></h3>
                        <div class="guidelines-list">
                            <div class="guideline-item">
                                <span class="guideline-icon">🎫</span>
                                <p>Always keep your ticket or smart card handy for entry and exit.</p>
                            </div>
                            <div class="guideline-item">
                                <span class="guideline-icon">🚶</span>
                                <p>Stand on the left side of escalators; let others pass from the right.</p>
                            </div>
                            <div class="guideline-item">
                                <span class="guideline-icon">💺</span>
                                <p>Priority seats are for elderly, differently-abled, and pregnant passengers — give way respectfully.</p>
                            </div>
                            <div class="guideline-item">
                                <span class="guideline-icon">🚫</span>
                                <p>Eating, drinking, and smoking inside trains or stations is prohibited.</p>
                            </div>
                            <div class="guideline-item">
                                <span class="guideline-icon">🆘</span>
                                <p>In case of any emergency, use the passenger helpline or contact station staff immediately.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FAQ Modal -->
        <div id="faqModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><strong>FREQUENTLY ASKED QUESTIONS (FAQ)</strong></h2>
                    <span class="close" onclick="closeModal('faqModal')">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="faq-list">
                        <div class="faq-item">
                            <h4>1. How accurate are the route details shown here?</h4>
                            <p>Our route finder uses the latest available data for station connections and interchanges. While timings and routes are accurate for regular service hours, delays due to maintenance or unexpected events may not reflect instantly. Always allow a small time buffer for your journey.</p>
                        </div>
                        <div class="faq-item">
                            <h4>2. Can I check fare and travel time for my selected route?</h4>
                            <p>Yes. Once you select your boarding and destination stations, the system not only suggests the best route but also provides an estimated fare and travel time, so you can plan accordingly.</p>
                        </div>
                        <div class="faq-item">
                            <h4>3. Does the route finder include walking distance for interchanges?</h4>
                            <p>We mention if a station requires a longer walk or platform change for interchange, so you can be prepared and avoid missing your connecting train.</p>
                        </div>
                        <div class="faq-item">
                            <h4>4. Will I get late-night train availability here?</h4>
                            <p>Our system works for regular metro service hours. For late-night travel, please check official Delhi Metro announcements, as some lines may close earlier for maintenance.</p>
                        </div>
                        <div class="faq-item">
                            <h4>5. Can I use this site without an internet connection while traveling?</h4>
                            <p>You can load your route before starting your trip and keep it open in your browser. However, live updates and fare changes will require an internet connection.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Crowd Tips Modal -->
        <div id="crowdTipsModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><strong>CROWD TIPS FOR A SMOOTHER JOURNEY</strong></h2>
                    <span class="close" onclick="closeModal('crowdTipsModal')">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="tips-list">
                        <div class="tip-item">
                            <span class="tip-icon">⏰</span>
                            <div class="tip-content">
                                <h4>Avoid Rush Hours</h4>
                                <p>8:30 AM to 10:00 AM and 6:00 PM to 8:00 PM are peak times. Travel outside these hours if possible.</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">🚃</span>
                            <div class="tip-content">
                                <h4>Choose Less Crowded Coaches</h4>
                                <p>Usually the first or last coach has fewer passengers. Board from these coaches for more comfort.</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">🚪</span>
                            <div class="tip-content">
                                <h4>Use Station Exits Smartly</h4>
                                <p>Knowing the correct gate in advance can save you a long walk and help you reach your destination faster.</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">💳</span>
                            <div class="tip-content">
                                <h4>Travel with Smart Card</h4>
                                <p>It's faster than tokens and offers small discounts. Keep it recharged for seamless travel.</p>
                            </div>
                        </div>
                        <div class="tip-item">
                            <span class="tip-icon">🚇</span>
                            <div class="tip-content">
                                <h4>Stand Clear of Train Doors</h4>
                                <p>It speeds up boarding for everyone and prevents delays. Let passengers exit first before boarding.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Modal -->
        <div id="aboutModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><strong>ABOUT US</strong></h2>
                    <span class="close" onclick="closeModal('aboutModal')">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="about-content">
                        <p>We are <strong>RSQ Private Tech Ltd.</strong>, a technology-driven company focused on simplifying daily travel. Our Delhi Metro Route Finder is built to help commuters, tourists, and occasional travelers plan efficient metro journeys with clear, real-time station and route data.</p>
                        <p>Our aim is to make metro travel stress-free by providing accurate routes, fares, and helpful travel tips — all in one place.</p>
                        <div class="contact-info">
                            <h4><strong>CONTACT INFORMATION</strong></h4>
                            <p><strong>Helpline:</strong> 011-22561231</p>
                            <p><strong>Email:</strong> helpline@dmrc.org</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Privacy Policy Modal -->
        <div id="privacyModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><strong>PRIVACY POLICY</strong></h2>
                    <span class="close" onclick="closeModal('privacyModal')">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="privacy-content">
                        <p><strong>Your privacy matters to us.</strong></p>
                        
                        <div class="privacy-section">
                            <h4><strong>Data Collection:</strong></h4>
                            <p>We do not collect personal information when you use our route finder. The site operates without storing your location, search history, or identity.</p>
                        </div>
                        
                        <div class="privacy-section">
                            <h4><strong>Cookies:</strong></h4>
                            <p>We may use minimal cookies for website performance improvements, never for tracking or advertising.</p>
                        </div>
                        
                        <div class="privacy-section">
                            <h4><strong>Third-Party Links:</strong></h4>
                            <p>External links (e.g., official DMRC site) are provided for your convenience and follow their own privacy rules.</p>
                        </div>
                        
                        <div class="privacy-section">
                            <h4><strong>Security:</strong></h4>
                            <p>All communications with our website are encrypted using HTTPS to protect your browsing experience.</p>
                        </div>
                        
                        <div class="privacy-section">
                            <h4><strong>Changes:</strong></h4>
                            <p>Any updates to this privacy policy will be clearly mentioned on this page.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <div class="footer-content">
                <div class="footer-info">
                    Developed by <strong>RSQ Private Tech Ltd.</strong> | Assisted by <strong>CNV™ Version: 10.7</strong>
                </div>
                <div class="helpline-info">
                    <strong>Helpline:</strong> 011-22561231 | <strong>Email:</strong> helpline@dmrc.org
                </div>
                <div class="footer-links">
                    <a href="#" onclick="openModal('aboutModal')">ABOUT</a>
                    <a href="#" onclick="openModal('privacyModal')">PRIVACY POLICY</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Complete Delhi Metro Network with proper connections
        const metroNetwork = {
            // Red Line stations in order
            'Red': [
                'Shaheed Sthal', 'Hindon River', 'Arthala', 'Mohan Nagar', 'Shyam Park',
                'Major Mohit Sharma Rajendra Nagar', 'Raj Bagh', 'Shaheed Nagar', 'Dilshad Garden',
                'Jhilmil', 'Mansarovar Park', 'Shahdara', 'Welcome', 'Seelampur', 'Shastri Park',
                'Kashmere Gate', 'Tis Hazari', 'Pulbangash', 'Pratap Nagar', 'Shastri Nagar',
                'Inderlok', 'Kanhaiya Nagar', 'Keshav Puram', 'Netaji Subhash Place',
                'Kohat Enclave', 'Pitam Pura', 'Rohini East', 'Rohini West', 'Rithala'
            ],
            
            // Blue Line stations in order
            'Blue': [
                'Noida Electronic City', 'Noida Sector 62', 'Noida Sector 59', 'Noida Sector 61',
                'Noida Sector 52', 'Noida Sector 34', 'Noida City Centre', 'Golf Course',
                'Botanical Garden', 'Noida Sector 18', 'Noida Sector 16', 'Noida Sector 15',
                'New Ashok Nagar', 'Mayur Vihar Extension', 'Mayur Vihar I', 'Akshardham',
                'Yamuna Bank', 'Indraprastha', 'Supreme Court', 'Mandi House', 'Barakhamba Road',
                'Rajiv Chowk', 'RK Ashram Marg', 'Jhandewalan', 'Karol Bagh', 'Rajouri Garden',
                'Ramesh Nagar', 'Moti Nagar', 'Kirti Nagar', 'Shadipur', 'Patel Nagar',
                'Rajendra Place', 'Karol Bagh', 'Jhandewalan', 'RK Ashram Marg', 'Rajiv Chowk',
                'Barakhamba Road', 'Mandi House', 'Supreme Court', 'Indraprastha', 'Yamuna Bank',
                'Laxmi Nagar', 'Nirman Vihar', 'Preet Vihar', 'Karkarduma', 'Anand Vihar ISBT',
                'Kaushambi', 'Vaishali'
            ],
            
            // Yellow Line stations in order
            'Yellow': [
                'Samaypur Badli', 'Rohini Sector 18', 'Haiderpur Badli Mor', 'Jahangirpuri',
                'Adarsh Nagar', 'Azadpur', 'Model Town', 'GTB Nagar', 'Vishwavidyalaya',
                'Vidhan Sabha', 'Civil Lines', 'Kashmere Gate', 'Chandni Chowk', 'Chawri Bazar',
                'New Delhi', 'Rajiv Chowk', 'Patel Chowk', 'Central Secretariat', 'Udyog Bhawan',
                'Lok Kalyan Marg', 'Jor Bagh', 'INA', 'AIIMS', 'Green Park', 'Hauz Khas',
                'Malviya Nagar', 'Saket', 'Qutab Minar', 'Chhatarpur', 'Sultanpur',
                'Ghitorni', 'Arjan Garh', 'Guru Dronacharya', 'Sikandarpur', 'MG Road',
                'IFFCO Chowk', 'Millennium City Centre Gurugram', 'Huda City Centre'
            ],
            
            // Green Line stations in order
            'Green': [
                'Brigadier Hoshiar Singh', 'Bahadurgarh City', 'Tikri Kalan', 'Tikri Border',
                'Pandit Shree Ram Sharma', 'Bahadurgarh City', 'Mundka', 'Mundka Industrial Area',
                'Ghevra Metro Station', 'Nangloi', 'Nangloi Railway Station', 'Rajdhani Park',
                'Mundka', 'Paschim Vihar East', 'Paschim Vihar West', 'Peeragarhi', 'Udyog Nagar',
                'Maharaja Surajmal Stadium', 'Nanakpura', 'Rajouri Garden', 'Tagore Garden',
                'Subhash Nagar', 'Ramesh Nagar', 'Moti Nagar', 'Kirti Nagar', 'Satguru Ram Singh Marg',
                'Inderlok', 'Ashok Park Main', 'Punjabi Bagh', 'Punjabi Bagh West', 'Shivaji Park',
                'Madipur', 'Paschim Vihar East', 'Paschim Vihar West', 'Peeragarhi', 'Udyog Nagar'
            ],
            
            // Violet Line stations in order
            'Violet': [
                'Kashmere Gate', 'Lal Qila', 'Jama Masjid', 'Delhi Gate', 'ITO', 'Mandi House',
                'Janpath', 'Central Secretariat', 'Khan Market', 'JLN Stadium', 'Jangpura',
                'Lajpat Nagar', 'Moolchand', 'Kailash Colony', 'Nehru Place', 'Kalkaji Mandir',
                'Govind Puri', 'Harkesh Nagar Okhla', 'Jasola Apollo', 'Sarita Vihar',
                'Mohan Estate', 'Tughlakabad', 'Badarpur Border', 'Sarai', 'NHPC Chowk',
                'Mewla Maharajpur', 'Sector 28', 'Badkal Mor', 'Old Faridabad',
                'Neelam Chowk Ajronda', 'Bata Chowk', 'Escorts Mujesar', 'Sant Surdas', 'Raja Nahar Singh'
            ],
            
            // Pink Line stations in order
            'Pink': [
                'Majlis Park', 'Azadpur', 'Shalimar Bagh', 'Netaji Subhash Place', 'Shakurpur',
                'Punjabi Bagh West', 'ESI - Basaidarapur', 'Rajouri Garden', 'Mayapuri',
                'Naraina Vihar', 'Delhi Cantonment', 'Durgabai Deshmukh South Campus',
                'Sir M. Vishweshwaraiah Moti Bagh', 'Bhikaji Cama Place', 'Sarojini Nagar',
                'Dilli Haat - INA', 'South Extension', 'Lajpat Nagar', 'Vinobapuri', 'Ashram',
                'Sarai Kale Khan', 'Hazrat Nizamuddin', 'Mayur Vihar Pocket 1',
                'Trilokpuri-Sanjay Lake', 'East Vinod Nagar', 'Mandawali', 'IP Extension',
                'Anand Vihar ISBT', 'Karkarduma', 'Karkarduma Court', 'Krishna Nagar',
                'East Azad Nagar', 'Welcome', 'Jaffrabad', 'Maujpur', 'Gokulpuri',
                'Johri Enclave', 'Shiv Vihar'
            ],
            
            // Magenta Line stations in order
            'Magenta': [
                'Janakpuri West', 'Dabri Mor', 'Dashrathpuri', 'Palam', 'Sadar Bazaar Cantonment',
                'Terminal 1 IGI Airport', 'Shankar Vihar', 'Vasant Vihar', 'Munirka', 'RK Puram',
                'IIT Delhi', 'Hauz Khas', 'Green Park', 'AIIMS', 'Race Course', 'Jor Bagh',
                'INA', 'Central Secretariat', 'Udyog Bhawan', 'Lok Kalyan Marg', 'Jor Bagh',
                'Khan Market', 'JLN Stadium', 'Jangpura', 'Lajpat Nagar', 'Moolchand',
                'Kailash Colony', 'Nehru Place', 'Kalkaji Mandir', 'Okhla NSIC', 'Sukhdev Vihar',
                'Jamia Millia Islamia', 'Okhla Vihar', 'Jasola Vihar Shaheen Bagh',
                'Kalindi Kunj', 'Okhla Bird Sanctuary', 'Botanical Garden'
            ],
            
            // Orange Line (Airport Express)
            'Orange': [
                'New Delhi', 'Shivaji Stadium', 'Dhaula Kuan', 'Delhi Aerocity', 'IGI Airport', 'Dwarka Sector 21'
            ],
            
            // Aqua Line
            'Aqua': [
                'Noida Sector 51', 'Noida Sector 50', 'Noida Sector 76', 'Noida Sector 101',
                'Noida Sector 81', 'NSEZ', 'Noida Sector 83', 'Noida Sector 137',
                'Noida Sector 142', 'Noida Sector 143', 'Noida Sector 144', 'Noida Sector 145',
                'Noida Sector 146', 'Noida Sector 147', 'Noida Sector 148', 'Knowledge Park II',
                'Pari Chowk', 'Alpha 1', 'Delta 1', 'GNIDA Office', 'Depot Station'
            ],
            
            // Grey Line
            'Grey': [
                'Dwarka', 'Nangli', 'Najafgarh', 'Dhansa Bus Stand'
            ]
        };

        // Interchange stations mapping
        const interchangeStations = {
            'Kashmere Gate': ['Red', 'Yellow', 'Violet'],
            'Rajiv Chowk': ['Blue', 'Yellow'],
            'Central Secretariat': ['Yellow', 'Violet', 'Magenta'],
            'Mandi House': ['Blue', 'Violet'],
            'Hauz Khas': ['Yellow', 'Magenta'],
            'Inderlok': ['Red', 'Green'],
            'Netaji Subhash Place': ['Red', 'Pink'],
            'Rajouri Garden': ['Blue', 'Green', 'Pink'],
            'Botanical Garden': ['Blue', 'Magenta'],
            'Kalkaji Mandir': ['Violet', 'Magenta'],
            'New Delhi': ['Yellow', 'Orange'],
            'Azadpur': ['Yellow', 'Pink'],
            'Welcome': ['Red', 'Pink'],
            'Anand Vihar ISBT': ['Blue', 'Pink'],
            'Karkarduma': ['Blue', 'Pink'],
            'Lajpat Nagar': ['Violet', 'Pink', 'Magenta'],
            'INA': ['Yellow', 'Pink', 'Magenta'],
            'Jangpura': ['Violet', 'Pink', 'Magenta'],
            'JLN Stadium': ['Violet', 'Pink', 'Magenta'],
            'Khan Market': ['Violet', 'Magenta'],
            'Punjabi Bagh West': ['Green', 'Pink'],
            'Janakpuri West': ['Blue', 'Magenta'],
            'Dwarka Sector 21': ['Blue', 'Orange'],
            'Kirti Nagar': ['Blue', 'Green'],
            'Ashok Park Main': ['Green', 'Pink']
        };

        // Line colors
        const lineColors = {
            'Red': '#ef4444',
            'Blue': '#3b82f6',
            'Yellow': '#eab308',
            'Green': '#22c55e',
            'Violet': '#8b5cf6',
            'Pink': '#ec4899',
            'Magenta': '#d946ef',
            'Orange': '#f97316',
            'Aqua': '#06b6d4',
            'Grey': '#6b7280'
        };

        // Get all stations from all lines
        function getAllStations() {
            const allStations = new Set();
            Object.values(metroNetwork).forEach(line => {
                line.forEach(station => allStations.add(station));
            });
            return Array.from(allStations).sort();
        }

        // Find which lines a station belongs to
        function getStationLines(stationName) {
            const lines = [];
            Object.entries(metroNetwork).forEach(([line, stations]) => {
                if (stations.includes(stationName)) {
                    lines.push(line);
                }
            });
            return lines;
        }

        // Find route between two stations on the same line
        function findDirectRoute(from, to, line) {
            const stations = metroNetwork[line];
            const fromIndex = stations.indexOf(from);
            const toIndex = stations.indexOf(to);
            
            if (fromIndex === -1 || toIndex === -1) return null;
            
            const start = Math.min(fromIndex, toIndex);
            const end = Math.max(fromIndex, toIndex);
            const route = stations.slice(start, end + 1);
            
            if (fromIndex > toIndex) {
                route.reverse();
            }
            
            return {
                route: route,
                line: line,
                distance: Math.abs(toIndex - fromIndex)
            };
        }

        // Find route with one interchange
        function findRouteWithInterchange(from, to) {
            const fromLines = getStationLines(from);
            const toLines = getStationLines(to);
            
            let bestRoute = null;
            let minDistance = Infinity;
            
            // Try all possible interchange combinations
            Object.entries(interchangeStations).forEach(([interchange, lines]) => {
                // Check if interchange connects from and to stations
                const fromConnections = fromLines.filter(line => lines.includes(line));
                const toConnections = toLines.filter(line => lines.includes(line));
                
                if (fromConnections.length > 0 && toConnections.length > 0) {
                    fromConnections.forEach(fromLine => {
                        toConnections.forEach(toLine => {
                            if (fromLine !== toLine) {
                                const route1 = findDirectRoute(from, interchange, fromLine);
                                const route2 = findDirectRoute(interchange, to, toLine);
                                
                                if (route1 && route2) {
                                    const totalDistance = route1.distance + route2.distance;
                                    if (totalDistance < minDistance) {
                                        minDistance = totalDistance;
                                        bestRoute = {
                                            route: [...route1.route.slice(0, -1), ...route2.route],
                                            lines: [fromLine, toLine],
                                            interchange: interchange,
                                            distance: totalDistance
                                        };
                                    }
                                }
                            }
                        });
                    });
                }
            });
            
            return bestRoute;
        }

        // Main route finding function
        function findRoute(from, to) {
            if (from === to) {
                return { error: "Source and destination cannot be the same" };
            }
            
            const fromLines = getStationLines(from);
            const toLines = getStationLines(to);
            
            if (fromLines.length === 0 || toLines.length === 0) {
                return { error: "Invalid station selected" };
            }
            
            // Check for direct route on same line
            const commonLines = fromLines.filter(line => toLines.includes(line));
            if (commonLines.length > 0) {
                let bestDirectRoute = null;
                let minDistance = Infinity;
                
                commonLines.forEach(line => {
                    const route = findDirectRoute(from, to, line);
                    if (route && route.distance < minDistance) {
                        minDistance = route.distance;
                        bestDirectRoute = route;
                    }
                });
                
                if (bestDirectRoute) {
                    return {
                        route: bestDirectRoute.route,
                        lines: [bestDirectRoute.line],
                        interchanges: [],
                        totalStations: bestDirectRoute.route.length,
                        estimatedTime: Math.max(5, bestDirectRoute.route.length * 2),
                        platforms: {
                            boarding: 1,
                            destination: 1
                        }
                    };
                }
            }
            
            // Find route with interchange
            const interchangeRoute = findRouteWithInterchange(from, to);
            if (interchangeRoute) {
                return {
                    route: interchangeRoute.route,
                    lines: interchangeRoute.lines,
                    interchanges: [interchangeRoute.interchange],
                    totalStations: interchangeRoute.route.length,
                    estimatedTime: Math.max(8, interchangeRoute.route.length * 2 + 5),
                    platforms: {
                        boarding: 1,
                        interchange: 2,
                        destination: 1
                    }
                };
            }
            
            // Try multiple interchanges through major hubs
            const majorHubs = ['Rajiv Chowk', 'Kashmere Gate', 'Central Secretariat', 'Hauz Khas'];
            
            for (const hub of majorHubs) {
                if (hub !== from && hub !== to) {
                    const route1 = findRouteWithInterchange(from, hub) || findDirectRoute(from, hub, getStationLines(from)[0]);
                    const route2 = findRouteWithInterchange(hub, to) || findDirectRoute(hub, to, getStationLines(to)[0]);
                    
                    if (route1 && route2) {
                        const combinedRoute = [...route1.route.slice(0, -1), ...route2.route];
                        const combinedLines = route1.lines ? [...route1.lines, ...(route2.lines || [route2.line])] : [route1.line, ...(route2.lines || [route2.line])];
                        const interchanges = [hub];
                        if (route1.interchange) interchanges.unshift(route1.interchange);
                        if (route2.interchange) interchanges.push(route2.interchange);
                        
                        return {
                            route: combinedRoute,
                            lines: combinedLines,
                            interchanges: interchanges,
                            totalStations: combinedRoute.length,
                            estimatedTime: Math.max(15, combinedRoute.length * 2 + interchanges.length * 5),
                            platforms: {
                                boarding: 1,
                                interchange: 2,
                                destination: 1
                            }
                        };
                    }
                }
            }
            
            return { error: "No route found between these stations. Please check station names and try again." };
        }

        // Populate station dropdowns
        function populateStations() {
            const fromSelect = document.getElementById('fromStation');
            const toSelect = document.getElementById('toStation');
            
            const stations = getAllStations();
            
            stations.forEach(station => {
                const option1 = document.createElement('option');
                option1.value = station;
                option1.textContent = station;
                fromSelect.appendChild(option1);
                
                const option2 = document.createElement('option');
                option2.value = station;
                option2.textContent = station;
                toSelect.appendChild(option2);
            });
        }

        // Swap stations function
        function swapStations() {
            const fromSelect = document.getElementById('fromStation');
            const toSelect = document.getElementById('toStation');
            
            const temp = fromSelect.value;
            fromSelect.value = toSelect.value;
            toSelect.value = temp;
        }

        // Display route results
        function displayRoute(routeData) {
            const resultsSection = document.getElementById('resultsSection');
            const routeSummary = document.getElementById('routeSummary');
            const stationList = document.getElementById('stationList');

            if (routeData.error) {
                resultsSection.innerHTML = `<div class="error-message">${routeData.error}</div>`;
                resultsSection.style.display = 'block';
                return;
            }

            // Create summary items
            routeSummary.innerHTML = `
                <div class="summary-item">
                    <div class="value">${routeData.totalStations}</div>
                    <div class="label">Stations</div>
                </div>
                <div class="summary-item">
                    <div class="value">${routeData.interchanges.length}</div>
                    <div class="label">Interchanges</div>
                </div>
                <div class="summary-item">
                    <div class="value">${routeData.estimatedTime}</div>
                    <div class="label">Minutes</div>
                </div>
                <div class="summary-item">
                    <div class="value">${routeData.lines.length}</div>
                    <div class="label">Lines</div>
                </div>
            `;

            // Create station list
            let stationHTML = '';
            let currentLineIndex = 0;
            
            routeData.route.forEach((station, index) => {
                let stationClass = '';
                let platformInfo = '';
                
                if (index === 0) {
                    stationClass = 'boarding';
                    platformInfo = `<div class="platform-badge">Platform ${routeData.platforms.boarding}</div>`;
                } else if (index === routeData.route.length - 1) {
                    stationClass = 'destination';
                    platformInfo = `<div class="platform-badge">Platform ${routeData.platforms.destination}</div>`;
                } else if (routeData.interchanges.includes(station)) {
                    stationClass = 'interchange';
                    platformInfo = `<div class="platform-badge">Platform ${routeData.platforms.interchange}</div>`;
                    currentLineIndex++;
                }

                const currentLine = routeData.lines[Math.min(currentLineIndex, routeData.lines.length - 1)];
                const lineColor = lineColors[currentLine];

                stationHTML += `
                    <div class="station-item ${stationClass}">
                        <div class="station-content">
                            <div class="station-info">
                                <h4>${station}</h4>
                                <div class="line-badge">
                                    <div class="line-dot" style="background-color: ${lineColor}"></div>
                                    ${currentLine} Line
                                </div>
                            </div>
                            ${platformInfo}
                        </div>
                    </div>
                `;
            });

            stationList.innerHTML = stationHTML;
            resultsSection.style.display = 'block';
        }

        // Form submission handler
        document.getElementById('routeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const fromStation = document.getElementById('fromStation').value;
            const toStation = document.getElementById('toStation').value;
            
            if (!fromStation || !toStation) {
                alert('Please select both departure and destination stations');
                return;
            }
            
            const routeData = findRoute(fromStation, toStation);
            displayRoute(routeData);
        });

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Initialize stations for all stations modal
            if (modalId === 'allStationsModal') {
                showLineStations('Red');
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // Show stations for selected line
        function showLineStations(lineName) {
            const stationsContent = document.getElementById('stationsContent');
            const stations = metroNetwork[lineName];
            const lineColor = lineColors[lineName];
            
            // Update active tab
            document.querySelectorAll('.line-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Generate stations HTML
            let stationsHTML = '';
            stations.forEach((station, index) => {
                const isInterchange = interchangeStations[station] ? ' (Interchange)' : '';
                stationsHTML += `
                    <div class="station-card" style="border-left-color: ${lineColor}">
                        <h4>${station}${isInterchange}</h4>
                        <div class="station-number">Station ${index + 1} of ${stations.length}</div>
                    </div>
                `;
            });
            
            stationsContent.innerHTML = stationsHTML;
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            populateStations();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96c94405c5d859e7',t:'MTc1NDc2MzYwOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
